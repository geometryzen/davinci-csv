System.register([],(function(e){"use strict";return{execute:function(){e({dataToArrays:k,parse:function(e,r,T){const{s:h,options:k}=function(e,s){(!s||s&&!s.lineTerminator)&&(e=function(e,s={}){if(!s.lineTerminator)return e.replace(/(\r\n|\n|\r)/gm,"\n");return e}(e,s));const c=R(s);return{s:b(e,c.lineTerm),options:c}}(e,r);let _=d.START;const p=h.length;let G="",O=Number.MAX_SAFE_INTEGER,f="",P=[],w=[];const C=function(e){return""===e?null:(k.trim&&(e=e.trim()),l.test(e)?parseInt(e,10):A.test(e)?parseFloat(e):e)},m=function(e){if(!T)throw e;T.push(e)};for(let e=0;e<p;e+=1)switch(G=h.charAt(e),_){case d.START:switch(G){case" ":break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f+=G,_=d.INTEGER;break;case i:O=e,_=d.QUOTE_STRING;break;case o:_=d.APOS_STRING;break;case N:_=d.INTEGER;break;case u:f+=G,_=d.NEGATIVE_INTEGER;break;default:f+=G,_=d.UNQUOTED_STRING}break;case d.INTEGER:switch(G){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f+=G;break;case".":f+=G,_=d.DECIMAL;break;case":":f+=G,_=d.ISO8601_HHMM;break;case"e":f+=G,_=d.EXPONENT;break;case E:f=C(f),P.push(f),f="",_=d.DELIM;break;case o:{const E=a[c.E001];m(new s(E.code,E.desc,e,1,0));break}case i:{const E=a[c.E002];m(new s(E.code,E.desc,e,1,0));break}case I:f=C(f),P.push(f),f="",_=d.TRAILING_WHITESPACE;break;case n:case t:f=C(f),P.push(f),f="",w.push(P),P=[],_=d.START;break;default:{const E=a[c.E003];m(new s(E.code,E.desc,e,1,0))}}break;case d.NEGATIVE_INTEGER:switch(G){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f+=G;break;case".":f+=G,_=d.DECIMAL;break;default:{const E=a[c.E003];m(new s(E.code,E.desc,e,1,0))}}break;case d.DECIMAL:switch(G){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f+=G;break;case"e":f+=G,_=d.EXPONENT;break;case k.delim:f=C(f),P.push(f),f="",_=d.DELIM;break;case o:{const E=a[c.E001];m(new s(E.code,E.desc,e,1,0));break}case i:{const E=a[c.E002];m(new s(E.code,E.desc,e,1,0));break}case I:f=C(f),P.push(f),f="",_=d.TRAILING_WHITESPACE;break;default:{const E=a[c.E003];m(new s(E.code,E.desc,e,1,0))}}break;case d.APOS_STRING:if(G===o)_=d.APOS_ESCAPE;else f+=G;break;case d.QUOTE_STRING:if(G===i)_=d.QUOTE_ESCAPE;else f+=G;break;case d.QUOTE_ESCAPE:switch(G){case i:f+=G,_=d.QUOTE_STRING;break;case k.delim:P.push(f),f="",_=d.DELIM;break;case n:P.push(f),f="",w.push(P),P=[],_=d.START;break;default:{const E=a[c.E003];m(new s(E.code,E.desc,e,1,0))}}break;case d.APOS_ESCAPE:switch(G){case o:f+=G,_=d.APOS_STRING;break;case k.delim:P.push(f),f="",_=d.DELIM;break;case n:P.push(f),f="",w.push(P),P=[],_=d.START;break;default:{const E=a[c.E003];m(new s(E.code,E.desc,e,1,0))}}break;case d.DELIM:switch(G){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f+=G,_=d.INTEGER;break;case I:break;case N:_=d.INTEGER;break;case u:f+=G,_=d.NEGATIVE_INTEGER;break;case i:O=e,_=d.QUOTE_STRING;break;case o:O=e,_=d.APOS_STRING;break;default:f+=G,_=d.UNQUOTED_STRING}break;case d.ISO8601_HHMM:switch(G){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f+=G;break;case n:case t:f=C(f),P.push(f),f="",w.push(P),P=[],_=d.START;break;default:{const E=a[c.E003];m(new s(E.code,E.desc,e,1,0))}}break;case d.UNQUOTED_STRING:switch(G){case k.delim:P.push(f),f="",_=d.DELIM;break;case n:case t:P.push(f),f="",w.push(P),P=[],_=d.START;break;default:f+=G}break;case d.EXPONENT:switch(G){case N:case u:f+=G,_=d.SIGNED_EXPONENT;break;case I:f=C(f),P.push(f),f="",_=d.TRAILING_WHITESPACE;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f+=G;break;default:{const E=a[c.E003];m(new s(E.code,E.desc,e,1,0))}}break;case d.SIGNED_EXPONENT:switch(G){case I:f=C(f),P.push(f),f="",_=d.TRAILING_WHITESPACE;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f+=G;break;case n:case t:f=C(f),P.push(f),f="",w.push(P),P=[],_=d.START;break;default:{const E=a[c.E003];m(new s(E.code,E.desc,e,1,0))}}break;case d.TRAILING_WHITESPACE:switch(G){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{const E=a[c.E004];m(new s(E.code,E.desc,e,1,0));break}default:{const E=a[c.E003];m(new s(E.code,E.desc,e,1,0))}}break;default:throw new Error(`Unexpected state ${S(_)} at ${e} for ${h}`)}switch(_){case d.INTEGER:case d.DECIMAL:case d.EXPONENT:case d.SIGNED_EXPONENT:case d.APOS_ESCAPE:case d.QUOTE_ESCAPE:case d.ISO8601_HHMM:f=C(f),P.push(f),f="",w.push(P),P=[];break;case d.DELIM:P.push(null),f="",w.push(P),P=[];break;case d.APOS_STRING:{const e=a[c.E005];m(new s(e.code,e.desc,O,1,0));break}case d.QUOTE_STRING:{const e=a[c.E006];m(new s(e.code,e.desc,O,1,0));break}case d.START:case d.TRAILING_WHITESPACE:break;default:throw new Error(`Unexpected end state ${S(_)} ${h}`)}k.skipRows&&(w=w.slice(k.skipRows));return w},serialize:function(e,s){const c=e instanceof Array?e:k(e),a=R(s);let E="";for(let e=0;e<c.length;e+=1){const s=c[e];let t="";for(let e=0;e<s.length;e+=1){const c=(null===(r=s[e])?r="":"string"==typeof r&&h.test(r)?(a.escape&&(r=r.replace(/"/g,'""')),r=a.quoteChar+r+a.quoteChar):"number"==typeof r&&(r=r.toString(10)),r);e===s.length-1?(t+=c,E+=t+a.lineTerm,t=""):t+=c+a.delim}}var r;return E}});class s{code;message;index;line;column;constructor(e,s,c,a,E){this.code=e,this.message=s,this.index=c,this.line=a,this.column=E}}var c;e("CSVError",s),function(e){e[e.E001=1]="E001",e[e.E002=2]="E002",e[e.E003=3]="E003",e[e.E004=4]="E004",e[e.E005=5]="E005",e[e.E006=6]="E006"}(c||(c={}));const a={};a[c.E001]={code:"E001",desc:"Unexpected apostrophe."},a[c.E002]={code:"E002",desc:"Unexpected quote."},a[c.E003]={code:"E003",desc:"Unexpected character."},a[c.E004]={code:"E004",desc:"Unexpected digit."},a[c.E005]={code:"E005",desc:"Missing closing apostrophe."},a[c.E006]={code:"E006",desc:"Missing closing quote."};const E=",",r=";",t="\r",n="\n",T=t+n,o="'",i='"',I=" ",u="-",N="+";var d;function S(e){switch(e){case d.START:return"START";case d.INTEGER:return"INTEGER";case d.DECIMAL:return"DECIMAL";case d.SCIENTIFIC:return"SCIENTIFIC";case d.APOS_STRING:return"APOS_STRING";case d.APOS_ESCAPE:return"APOS_ESCAPE";case d.QUOTE_STRING:return"QUOTE_STRING";case d.QUOTE_ESCAPE:return"QUOTE_ESCAPE";case d.DELIM:return"DELIM";case d.ISO8601_HHMM:return"ISO8601_HHMM";case d.UNQUOTED_STRING:return"UNQUOTED_STRING";case d.EXPONENT:return"EXPONENT";case d.SIGNED_EXPONENT:return"SIGNED_EXPONENT";case d.NEGATIVE_INTEGER:return"NEGATIVE_INTEGER";case d.TRAILING_WHITESPACE:return"TRAILING_WHITESPACE"}throw new Error(`decodeState(${e})`)}!function(e){e[e.START=0]="START",e[e.INTEGER=1]="INTEGER",e[e.DECIMAL=2]="DECIMAL",e[e.SCIENTIFIC=3]="SCIENTIFIC",e[e.APOS_STRING=4]="APOS_STRING",e[e.APOS_ESCAPE=5]="APOS_ESCAPE",e[e.QUOTE_STRING=6]="QUOTE_STRING",e[e.QUOTE_ESCAPE=7]="QUOTE_ESCAPE",e[e.DELIM=8]="DELIM",e[e.ISO8601_HHMM=9]="ISO8601_HHMM",e[e.UNQUOTED_STRING=10]="UNQUOTED_STRING",e[e.EXPONENT=11]="EXPONENT",e[e.SIGNED_EXPONENT=12]="SIGNED_EXPONENT",e[e.NEGATIVE_INTEGER=13]="NEGATIVE_INTEGER",e[e.TRAILING_WHITESPACE=14]="TRAILING_WHITESPACE"}(d||(d={}));const l=/^\d+$/,A=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,h=/^\s|\s$|,|"|\n/;function b(e,s){return e.charAt(e.length-s.length)!==s?e:e.substring(0,e.length-s.length)}function k(e){const s=[],c=e.fields.map((e=>e.id));s.push(c);for(const a of e.records){const e=c.map((e=>a[e]));s.push(e)}return s}function R(e){const s={delim:E,escape:!0,lineTerm:n,quoteChar:i,skipRows:0,trim:!0};if(e){if("string"==typeof e.fieldDelimiter)switch(e.fieldDelimiter){case E:case r:s.delim=e.fieldDelimiter;break;default:throw new Error(`Unexpected dialect field delimiter ${e.fieldDelimiter}.`)}if("boolean"==typeof e.escapeEmbeddedQuotes&&(s.escape=e.escapeEmbeddedQuotes),"string"==typeof e.lineTerminator)switch(e.lineTerminator){case n:case t:case T:s.lineTerm=n;break;default:throw new Error(`Unexpected dialect lineTerminator ${e.lineTerminator}.`)}if("string"==typeof e.quoteChar)switch(e.quoteChar){case o:case i:s.quoteChar=e.quoteChar;break;default:throw new Error(`Unexpected dialect quoteChar ${e.quoteChar}.`)}"number"==typeof e.skipInitialRows&&(s.skipRows=e.skipInitialRows),"boolean"==typeof e.trimFields&&(s.trim=e.trimFields)}return s}}}}));
//# sourceMappingURL=index.min.js.map
