{"version":3,"sources":["../system/davinci-csv/config.js","../system/davinci-csv/core/CSV.js","../system/davinci-csv.js"],"names":["System","register","exports_1","context_1","__moduleName","id","Config","config","setters","execute","GITHUB","LAST_MODIFIED","NAMESPACE","VERSION","chomp","s","lineterminator","charAt","length","substring","normalizeLineTerminator","csvString","dialect","lineTerminator","replace","dataToArrays","data","arrays","fieldNames","ii","fields","push","records","tmp","record","jj","normalizeDialectOptions","options","out","delimiter","doublequote","quotechar","skipinitialspace","skipinitialrows","key","trim","toLowerCase","serialize","a","Array","fieldBuffer","rowBuffer","outBuffer","processField","processedField","field","rxNeedsQuoting","test","toString","i","j","parse","cur","inQuote","fieldQuoted","fieldX","row","rxIsInt","parseInt","rxIsFloat","parseFloat","slice","String","prototype","config_1","CSV_1","csv","config_1_1","CSV_1_1","default"],"mappings":"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","file":"davinci-csv-system-es5.js"}