{"version":3,"sources":["../system/davinci-csv/config.js","../system/davinci-csv/core/CSV.js","../system/davinci-csv.js"],"names":["System","register","exports_1","context_1","__moduleName","id","Config","config","setters","execute","GITHUB","LAST_MODIFIED","NAMESPACE","VERSION","chomp","s","lineterminator","charAt","length","substring","normalizeLineTerminator","csvString","dialect","lineTerminator","replace","dataToArrays","data","arrays","fieldNames","ii","fields","push","records","tmp","record","jj","normalizeDialectOptions","options","delim","escape","lineTerm","quoteChar","skipRows","trim","fieldDelimiter","escapeEmbeddedQuotes","skipInitialRows","trimFields","serialize","a","Array","fieldToString","field","rxNeedsQuoting","test","toString","outBuffer","i","rowBuffer","j","fieldBuffer","normalizeInputString","csvText","parse","_a","sLength","ch","inQuote","fieldQuoted","row","out","parseField","fieldAsString","rxIsInt","parseInt","rxIsFloat","parseFloat","slice","String","prototype","config_1","CSV_1","csv","config_1_1","CSV_1_1","default"],"mappings":"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","file":"davinci-csv-system-es5.js"}